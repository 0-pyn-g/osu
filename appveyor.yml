clone_depth: 1
version: '{branch}-{build}'
image: Visual Studio 2019
before_build:
  - ps: dotnet --info # Useful when version mismatch between CI and local
  - ps: nuget restore -verbosity quiet # Only nuget.exe knows both new (.NET Core) and old (Xamarin) projects
build:
  project: osu.sln
  parallel: true
  verbosity: minimal
after_build:
  - ps: dotnet tool restore
  - ps: dotnet CodeFileSanity
  - ps: dotnet format --dry-run --check
test:
  assemblies:
    except:
      - '**\*Android*'
      - '**\*iOS*'
